{% extends 'annotationapp/annotationapp_base.html' %}
{% load static %}

{% block extra_head %}
<script type="text/javascript" src="/static/js/lib/jquery-2.2.3.min.js"></script>
<style>.highlight-tier {background-color: #ddd; border-radius: 4px;}</style>
<script>
$( document ).ready(function() {
  $('.show-parent').mouseover(function(){
    $(".tier-" + $( this ).data('parent')).addClass('highlight-tier');
  }).mouseout(function() {
    $(".tier-" + $( this ).data('parent')).removeClass('highlight-tier');
  });
})
</script>
{% endblock %}

{% block title %} List of tiers for sound {{ sound.filename }} {% endblock %}

{% block links %}
        <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <h5>Create new tier:</h5>
            <p>{{ form.name }} </p>
            <h5>Select parent tier if desired:</h5>
            <p>{{ form.parent_tier }} </p>
        <button type="submit" class="btn btn-info">Create</button>
        </form>
{% endblock %}

{% block content %}
    {% if tiers_list %}
        {% for tier in tiers_list %}
            {% if reference_sound %}
                <li><a href="/{{ exercise.id }}/ref_sound_detail/{{ sound.id }}/{{ tier.id }}">{{ tier.name}}</a></li>
            {% else %}
            <li class="tier-{{ tier.id }}">
              <a href="/{{ exercise.id }}/sound_detail/{{ sound.id }}/{{ tier.id }}">{{ tier.name}}</a>
              {% if tier.special_parent_tier %}
              <img src="{% static 'img/branch.png'%}" class="show-parent" data-parent="{{tier.special_parent_tier.id}}"/>
              {% endif %}
            </li>
            {% endif %}
        {% endfor %}
    {% else %}
        <p>There are no tiers</p>
    {% endif %}
{% endblock %}

{% block logout %}
    <button>
    <a href="/accounts/logout">logout</a>
    </button>
{% endblock %}

