
{% load i18n %}

{% block title %}{% trans "Login" %}{% endblock %}

{% block heading %}
{% trans "Log in" %}
{% endblock %}

{% block content %}

{% url 'accounts-register' as register_url %}

  <div id="login-form" class="registration-content col-xs-12"> 
  {% blocktrans %}
    <p>Don't have an account yet? Why not <a href="{{ register_url }}?next={{request.path}}">register</a>?</p>
  {% endblocktrans %} <br>
    <form method="post" action="{% url "accounts-login" %}?next={{ redirect_url }} ">{% csrf_token %}
      <div class="form-group">
        <input type="text"  class="form-control" id="{{form.username.auto_id}}" name='{{form.username.name}}' placeholder='{% trans "Username" %}'>
        {{form.errors.username}}
      </div>
      <div class="form-group">
        <input type="password"  class="form-control" id="{{form.password.auto_id}}" name='{{form.password.name}}' placeholder='{% trans "Password" %}'>
        {{form.errors.password}}
      </div>
      {{form.non_field_errors}}

      <input type="hidden" name="next" value="{{ next }}"/>
      <div class="col-xs-12" style="margin-bottom:10px; text-align:center">
        <button id="login-form-submit" type="submit" class="btn btn-success">
         {% trans "Log in" %}
        </button>
      </div>
    </form>

  </div>
<script>

  document.getElementById("{{form.username.auto_id}}").focus();
  
  $(function(){
    $('#login-form-submit').click(function(event){
      event.preventDefault();
      $('#login-form form').submit();
    });
  });
</script>
  

{% endblock %}

{% block bodyend %}
<script>
  $("#login-navbar-button").addClass('active');
</script>
{% endblock %}
	
